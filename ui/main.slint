import { Button, VerticalBox, HorizontalBox, LineEdit, ScrollView, ListView, ComboBox, CheckBox, StandardListView } from "std-widgets.slint";


// --- DATOV√â STRUKTURY ---

export struct PartnerData {
    id: string,
    nazev: string,
    slozka: string,
    aktualizovano: string,
    ma_slozku: bool,
}

export struct PrilohaData {
    nazev: string,
    cesta: string,
}


// --- KOMPONENTY ---

// UPRAVENO: ƒåist√Ω ƒçerven√Ω k≈ô√≠≈æek pro smaz√°n√≠ (hover + jemn√° typografie)
component FileItem inherits Rectangle {
    in property <string> nazev;
    callback remove-clicked();

    height: 40px;
    background: #2a2a2a;
    border-radius: 4px;
    border-width: 1px;
    border-color: #333;

    HorizontalLayout {
        padding-left: 12px; padding-right: 8px; spacing: 10px;

        Text { text: "üìé"; vertical-alignment: center; font-size: 14px; color: #666; }

        Text {
            text: root.nazev;
            color: #ccc; font-size: 13px; vertical-alignment: center;
            horizontal-stretch: 1; overflow: elide;
        }

        TouchArea {
            width: 25px;
            mouse-cursor: pointer;
            clicked => { root.remove-clicked(); }

            Text {
                text: "√ó";
                color: parent.has-hover ? #ff6666 : #cc4444;
                font-size: 22px;
                font-weight: 400;
                vertical-alignment: center;
                horizontal-alignment: center;
                y: -1px;
                animate color { duration: 150ms; }
            }
        }
    }
}

component DropZone inherits Rectangle {
    in property <color> active-color;
    in property <string> ikona: "‚òÅÔ∏è";
    in property <string> hlavni-text: "Nahr√°t soubor";
    in property <string> vedlejsi-text: "Kliknƒõte pro v√Ωbƒõr";
    callback clicked();

    background: #252525;
    border-radius: 12px;
    border-width: 2px;
    border-color: #444;

    TouchArea { clicked => { root.clicked(); } mouse-cursor: pointer; }

    VerticalLayout {
        alignment: center; spacing: 8px;
        Text { text: root.ikona; font-size: 32px; horizontal-alignment: center; }
        Text {
            text: root.hlavni-text;
            font-size: 16px; color: #eee; horizontal-alignment: center; font-weight: 700;
        }
        Text {
            text: root.vedlejsi-text;
            font-size: 11px; color: #666; horizontal-alignment: center;
        }
    }
}

component MenuButton inherits Rectangle {
    in-out property<string> text;
    in-out property<bool> active;
    callback clicked;

    height: 45px;
    background: active ? root.active-color : touch.has-hover ? #3d3d3d : #2e2e2e;
    border-radius: 6px;
    border-width: 1px;
    border-color: active ? root.active-color : #3f3f3f;

    in property <color> active-color: #4aa3df;

    touch := TouchArea { clicked => { root.clicked(); } }

    HorizontalLayout {
        padding-left: 20px;
        Text {
            text: root.text;
            color: root.active ? #1A1A1A : white;
            vertical-alignment: center;
            font-size: 14px;
            font-weight: root.active ? 800 : 500;
        }
    }
}

component HubCard inherits Rectangle {
    in property <string> title;
    in property <string> icon;
    in property <string> description;
    in property <color> base-color;
    callback clicked();

    width: 320px; height: 200px;
    background: touch.pressed ? #333 : #252525;
    border-radius: 16px;
    border-width: 2px;
    border-color: touch.has-hover ? root.base-color : #3d3d3d;

    animate border-color { duration: 200ms; }
    animate background { duration: 100ms; }

    touch := TouchArea { clicked => { root.clicked(); } mouse-cursor: pointer; }

    VerticalLayout {
        padding: 30px; spacing: 15px; alignment: center;
        Text { text: root.icon; font-size: 48px; horizontal-alignment: center; }
        Text {
            text: root.title;
            font-size: 24px;
            font-weight: 800;
            color: touch.has-hover ? root.base-color : white;
            horizontal-alignment: center;
            animate color { duration: 200ms; }
        }
        Text {
            text: root.description;
            font-size: 13px;
            color: #888;
            horizontal-alignment: center;
            wrap: word-wrap;
        }
    }
}

component FormLabel inherits Text {
    color: #aaa;
    font-size: 12px;
    font-weight: 700;
}

component FilterCard inherits Rectangle {
    in property <string> label;
    in property <string> count;
    in property <color> count-color: white;
    in property <bool> active: false;
    in property <string> icon;
    callback clicked();

    background: #252525;
    border-radius: 8px;
    border-width: 2px;
    border-color: active ? #2CC985 : #3d3d3d;
    drop-shadow-blur: active ? 10px : 0px;
    drop-shadow-color: active ? #2CC98544 : #00000000;

    animate border-color { duration: 150ms; }
    animate drop-shadow-blur { duration: 150ms; }

    TouchArea {
        clicked => { root.clicked(); }
        HorizontalLayout {
            padding: 12px; spacing: 15px;
            Text { text: root.icon; vertical-alignment: center; font-size: 22px; }
            VerticalLayout {
                alignment: center;
                Text { text: root.label; color: #888; font-size: 11px; font-weight: 700; horizontal-alignment: left; }
                Text { text: root.count; color: root.count-color; font-size: 18px; font-weight: 800; horizontal-alignment: left; }
            }
        }
    }
}

export component ProgressWindow inherits Window {
    in-out property <float> progress: 0.0;
    in-out property <string> status: "P≈ôipravuji...";

    title: "Import Dat";
    width: 400px; height: 180px;
    background: #212121;
    always-on-top: true;

    VerticalLayout {
        padding: 30px; spacing: 20px; alignment: center;
        Text { text: root.status; color: white; font-size: 18px; font-weight: 700; horizontal-alignment: center; }
        Rectangle {
            width: 300px; height: 12px; background: #333; border-radius: 6px;
            Rectangle {
                width: root.progress * 300px; height: 12px; background: #2CC985; border-radius: 6px; x: 0;
                animate width { duration: 100ms; }
            }
        }
    }
}


export component AppWindow inherits Window {
    in-out property <string> verze_aplikace: "0.4.1";

    in-out property <string> cesta_archiv: "";
    in-out property <string> cesta_vyroba: "";
    in-out property <string> sync_interval: "1 t√Ωden";
    in-out property <string> posledni_sync_cas: "Nikdy";

    in property <int> db_status_code: 1;
    in property <string> stav_text: "DATAB√ÅZE NEN√ç NAƒåTENA";

    in property <[PartnerData]> model_partneru: [];
    in property <[PrilohaData]> model_priloh: [];

    in property <int> pocet_chybi: 0;
    in property <int> pocet_celkem: 0;

    in-out property <int> aktivni_filtr: 0;
    in-out property <string> search_text: "";

    property <int> vybrana_stranka: 0;
    property <int> settings_tab: 0;

    // --- RE≈ΩIMY APLIKACE ---
    in-out property <int> rezim_prace: 0;
    property <color> akcent_barva: rezim_prace == 1 ? #f39c12 : (rezim_prace == 2 ? #27ae60 : #4aa3df);
    property <string> nazev_rezimu: rezim_prace == 1 ? "POPT√ÅVKA" : (rezim_prace == 2 ? "OBJEDN√ÅVKA" : "IMPORT");

    callback vybrat_archiv();
    callback vybrat_vyrobu();
    callback ulozit_nastaveni();
    callback spustit_synchronizaci();
    callback ulozit_nazev_slozky(string, string);
    callback filter_zmenen(int);
    callback search_changed(string);
    callback manualni_vytvoreni(string, string);
    callback vybrat_prilohy();
    callback odebrat_prilohu(int);

    title: "MRB Obchodn√≠k - v" + verze_aplikace;
    min-width: 1100px; min-height: 750px;
    preferred-width: 1200px; preferred-height: 800px;
    background: #1A1A1A;

    HorizontalLayout {
        padding: 0; spacing: 0;

        // --- SIDEBAR ---
        Rectangle {
            width: 280px;
            background: #212121;

            VerticalLayout {
                padding: 25px; spacing: 10px;

                Text {
                    text: "MRB Obchodn√≠k";
                    color: root.akcent_barva;
                    font-size: 20px;
                    font-weight: 900;
                    horizontal-alignment: center;
                    animate color { duration: 300ms; }
                }

                Rectangle { height: 20px; }

                MenuButton {
                    text: "üè†   Rozcestn√≠k";
                    active: vybrana_stranka == 0;
                    clicked => {
                        vybrana_stranka = 0;
                        rezim_prace = 0;
                    }
                }

                MenuButton {
                    text: rezim_prace == 0 ? "üìÇ   Import dat" : (rezim_prace == 1 ? "üìù   Nov√° Popt√°vka" : "üìù   Nov√° Objedn√°vka");
                    active: vybrana_stranka == 1;
                    active-color: root.akcent_barva;
                    clicked => { vybrana_stranka = 1; }
                }

                MenuButton {
                    text: "‚öô   Nastaven√≠";
                    active: vybrana_stranka == 2;
                    clicked => {
                        vybrana_stranka = 2;
                        settings_tab = 0;
                    }
                }

                Rectangle { vertical-stretch: 1; }

                if (rezim_prace != 0) : Rectangle {
                    height: 30px;
                    background: root.akcent_barva;
                    border-radius: 4px;

                    Text {
                        text: root.nazev_rezimu;
                        color: #1a1a1a;
                        font-weight: 800;
                        font-size: 11px;
                        vertical-alignment: center;
                        horizontal-alignment: center;
                    }
                }

                Text { text: "v" + root.verze_aplikace; color: #555; font-size: 11px; horizontal-alignment: center; }
            }
        }

        // --- HLAVN√ç OBSAH ---
        VerticalLayout {
            padding: 40px;
            spacing: 20px;
            horizontal-stretch: 1;

            if (vybrana_stranka == 2) : HorizontalLayout {
                height: 45px; spacing: 10px; vertical-stretch: 0;
                Button { text: "Aktualizace dat"; primary: settings_tab == 0; clicked => { settings_tab = 0; } }
                Button { text: "Datab√°ze partner≈Ø"; primary: settings_tab == 1; clicked => { settings_tab = 1; } }
                Button { text: "Obecn√©"; primary: settings_tab == 2; clicked => { settings_tab = 2; } }
            }

            VerticalLayout {
                vertical-stretch: 1;

                // 0. DOMOVSK√Å OBRAZOVKA
                if (vybrana_stranka == 0) : VerticalLayout {
                    alignment: center;
                    spacing: 40px;

                    VerticalLayout {
                        spacing: 10px;
                        Text { text: "Co chcete zpracovat?"; font-size: 32px; font-weight: 300; color: white; horizontal-alignment: center; }
                        Text { text: "Vyberte typ procesu pro zah√°jen√≠ pr√°ce"; font-size: 16px; color: #888; horizontal-alignment: center; }
                    }

                    HorizontalLayout {
                        alignment: center; spacing: 40px;

                        HubCard {
                            title: "POPT√ÅVKA";
                            description: "Zalo≈æit novou popt√°vku (Nab√≠dku).\nRuƒçnƒõ nebo importem.";
                            icon: "üìÑ";
                            base-color: #f39c12;
                            clicked => { root.rezim_prace = 1; root.vybrana_stranka = 1; }
                        }

                        HubCard {
                            title: "OBJEDN√ÅVKA";
                            description: "Zpracov√°n√≠ objedn√°vky do v√Ωroby.\nKontrola dat a p≈ôevod.";
                            icon: "üì¶";
                            base-color: #27ae60;
                            clicked => { root.rezim_prace = 2; root.vybrana_stranka = 1; }
                        }
                    }
                }

                // 1. FORMUL√Å≈ò & IMPORT
                if (vybrana_stranka == 1) : VerticalLayout {
                    spacing: 20px;
                    vertical-stretch: 1;

                    // Hlaviƒçka
                    HorizontalLayout {
                        spacing: 15px; vertical-stretch: 0;
                        Rectangle { width: 6px; background: root.akcent_barva; border-radius: 3px; }
                        VerticalLayout {
                            Text { text: "ZALO≈ΩEN√ç DOKLADU: " + root.nazev_rezimu; color: root.akcent_barva; font-weight: 800; font-size: 12px; }
                            Text { text: rezim_prace == 1 ? "Nov√° Popt√°vka" : "Nov√° Objedn√°vka"; color: white; font-size: 24px; font-weight: 300; }
                        }
                        Rectangle { horizontal-stretch: 1; }
                        Button {
                            text: "Zpƒõt na rozcestn√≠k";
                            height: 35px;
                            clicked => { root.vybrana_stranka = 0; root.rezim_prace = 0; }
                        }
                    }

                    Rectangle { height: 1px; background: #333; }

                    // Dvousloupcov√Ω layout
                    HorizontalLayout {
                        spacing: 40px;
                        vertical-stretch: 1;

                        // LEV√ù SLOUPEC: FORMUL√Å≈ò
                        VerticalLayout {
                            horizontal-stretch: 1;
                            spacing: 15px;
                            alignment: start;

                            Text { text: "üìù   Ruƒçn√≠ zad√°n√≠ √∫daj≈Ø"; font-size: 18px; font-weight: 700; color: white; }

                            VerticalBox {
                                padding: 0; spacing: 5px;
                                FormLabel { text: "IƒåO / ID PARTNERA"; }
                                HorizontalLayout {
                                    spacing: 10px;
                                    form_id := LineEdit { placeholder-text: "Nap≈ô. 12345678"; height: 40px; }
                                    Button { text: "Ovƒõ≈ôit v DB"; width: 100px; height: 40px; }
                                }
                            }

                            VerticalBox {
                                padding: 0; spacing: 5px;
                                FormLabel { text: "N√ÅZEV FIRMY / PARTNERA"; }
                                form_nazev := LineEdit { placeholder-text: "N√°zev firmy..."; height: 40px; }
                            }

                            VerticalBox {
                                padding: 0; spacing: 5px;
                                FormLabel { text: "POZN√ÅMKA K ZAK√ÅZCE"; }
                                form_poznamka := LineEdit { placeholder-text: "Intern√≠ pozn√°mka..."; height: 40px; }
                            }

                            Rectangle { height: 10px; }

                            HorizontalLayout {
                                alignment: start;
                                CheckBox { text: "Vytvo≈ôit slo≈æku v archivu"; checked: true; }
                            }

                            Rectangle { vertical-stretch: 1; }

                            Button {
                                text: "VYTVO≈òIT " + root.nazev_rezimu;
                                height: 50px;
                                primary: true;
                                clicked => { root.manualni_vytvoreni(form_id.text, form_nazev.text); }
                            }
                        }

                        Rectangle { width: 1px; background: #333; }

                        // PRAV√ù SLOUPEC: IMPORT
                        // D≈ÆLE≈ΩIT√â (fix): Tady NESM√ç b√Ωt 'alignment: start', jinak se vertical-stretch dƒõti nerozt√°hnou.
                        VerticalLayout {
                            width: 360px;
                            spacing: 20px;

                            // 1. Excel sekce
                            VerticalLayout {
                                spacing: 10px; vertical-stretch: 0;
                                Text { text: "1. ≈ò√≠d√≠c√≠ soubor (Excel)"; font-size: 14px; font-weight: 700; color: #888; }
                                DropZone {
                                    height: 120px;
                                    active-color: root.akcent_barva;
                                    ikona: "üìä";
                                    hlavni-text: "Nahr√°t Excel";
                                    vedlejsi-text: ".xlsx, .xlsm (Transform√°torek)";
                                    clicked => { root.spustit_synchronizaci(); }
                                }
                            }

                            Rectangle { height: 1px; background: #333; }

                            // 2. P≈ô√≠lohy sekce (mus√≠ se rozt√°hnout dol≈Ø)
                            VerticalLayout {
                                spacing: 10px;
                                vertical-stretch: 1;

                                Text { text: "2. Datov√© p≈ô√≠lohy (V√Ωkresy, Modely)"; font-size: 14px; font-weight: 700; color: #888; }

                                DropZone {
                                    height: 100px;
                                    active-color: #4aa3df;
                                    ikona: "üìÇ";
                                    hlavni-text: "P≈ôidat v√Ωkresy / modely";
                                    vedlejsi-text: "PDF, STEP, DXF, DWG...";
                                    clicked => { root.vybrat_prilohy(); }
                                }

                                // Kontejner seznamu ‚Äì zabere zbytek m√≠sta + vlastn√≠ scroll
                                Rectangle {
                                    background: #1e1e1e;
                                    border-radius: 6px;
                                    border-width: 1px;
                                    border-color: #333;
                                    vertical-stretch: 1;
                                    clip: true;

                                    ScrollView {
                                        padding: 5px;

                                        VerticalLayout {
                                            spacing: 6px;
                                            alignment: start;

                                            for soubor[index] in root.model_priloh : FileItem {
                                                nazev: soubor.nazev;
                                                remove-clicked => { root.odebrat_prilohu(index); }
                                            }

                                            if (root.model_priloh.length == 0) : VerticalLayout {
                                                padding-top: 40px;
                                                alignment: center;
                                                Text { text: "≈Ω√°dn√© p≈ô√≠lohy v z√°sobn√≠ku"; color: #444; font-size: 12px; horizontal-alignment: center; }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }

                // 2. NASTAVEN√ç
                if (vybrana_stranka == 2) : VerticalLayout {

                    if (settings_tab == 0) : VerticalLayout {
                        spacing: 25px; alignment: center;
                        Text { text: "Aktualizace datab√°ze partner≈Ø"; font-size: 22px; font-weight: 700; color: white; horizontal-alignment: center; }

                        Rectangle {
                            border-color: root.db_status_code == 0 ? #2CC985 : (root.db_status_code == 2 ? #f39c12 : #e74c3c);
                            border-width: 2px;
                            border-radius: 12px;
                            height: 100px;
                            background: root.db_status_code == 0 ? #2CC98511 : (root.db_status_code == 2 ? #f39c1211 : #e74c3c11);

                            Text {
                                text: root.stav_text;
                                color: root.db_status_code == 0 ? #2CC985 : (root.db_status_code == 2 ? #f39c12 : #e74c3c);
                                font-size: 20px;
                                font-weight: 800;
                                horizontal-alignment: center;
                                vertical-alignment: center;
                            }
                        }

                        Text { text: "Posledn√≠ aktualizace: " + root.posledni_sync_cas; color: #888; horizontal-alignment: center; }
                        Rectangle { vertical-stretch: 1; }
                        Button { text: "MANU√ÅLN√ç AKTUALIZACE DB"; height: 60px; clicked => { root.spustit_synchronizaci(); } }
                    }

                    if (settings_tab == 1) : VerticalLayout {
                        vertical-stretch: 1;
                        spacing: 15px;

                        HorizontalLayout {
                            height: 70px;
                            spacing: 15px;
                            vertical-stretch: 0;

                            FilterCard {
                                icon: "üë•";
                                label: "CELKEM";
                                count: "\{root.pocet_celkem}";
                                active: root.aktivni_filtr == 0;
                                clicked => { root.filter_zmenen(0); }
                            }

                            FilterCard {
                                icon: "‚ö†Ô∏è";
                                label: "PROBL√âM SE SLO≈ΩKOU";
                                count: "\{root.pocet_chybi}";
                                count-color: #ff4444;
                                active: root.aktivni_filtr == 1;
                                clicked => { root.filter_zmenen(1); }
                            }

                            Rectangle {
                                background: #252525;
                                border-radius: 8px;
                                horizontal-stretch: 1;
                                border-width: 2px;
                                border-color: root.aktivni_filtr == 2 ? #2CC985 : #3d3d3d;
                                animate border-color { duration: 150ms; }

                                HorizontalLayout {
                                    padding-left: 15px; padding-right: 15px; spacing: 10px;
                                    Text { text: "üîç"; vertical-alignment: center; font-size: 18px; color: root.aktivni_filtr == 2 ? #2CC985 : #666; }
                                    Rectangle {
                                        horizontal-stretch: 1;
                                        if (search-input.text == "") : Text { text: "Hledat partnera nebo ID..."; color: #555; font-size: 14px; vertical-alignment: center; horizontal-alignment: left; x: 0; }
                                        search-input := TextInput {
                                            text <=> root.search_text;
                                            font-size: 14px;
                                            color: white;
                                            vertical-alignment: center;
                                            horizontal-alignment: left;
                                            single-line: true;
                                            edited => { root.search_changed(self.text); }
                                        }
                                    }
                                }
                            }
                        }

                        Rectangle {
                            height: 40px;
                            background: #2a2a2a;
                            border-radius: 6px;
                            vertical-stretch: 0;

                            HorizontalLayout {
                                padding-left: 20px; padding-right: 20px;
                                Text { text: "STAV"; width: 60px; color: #666; font-size: 11px; font-weight: 800; vertical-alignment: center; horizontal-alignment: left; }
                                Text { text: "ID"; width: 80px; color: #666; font-size: 11px; font-weight: 800; vertical-alignment: center; horizontal-alignment: left; }
                                Text { text: "N√ÅZEV PARTNERA"; width: 250px; color: #666; font-size: 11px; font-weight: 800; vertical-alignment: center; horizontal-alignment: left; }
                                Text { text: "N√ÅZEV SLO≈ΩKY (Archiv zak√°zek)"; color: #666; font-size: 11px; font-weight: 800; vertical-alignment: center; horizontal-alignment: left; horizontal-stretch: 1; }
                            }
                        }

                        ListView {
                            vertical-stretch: 1;

                            for partner in root.model_partneru : Rectangle {
                                height: 50px;
                                background: #1e1e1e;
                                border-radius: 6px;

                                HorizontalLayout {
                                    padding-left: 20px; padding-right: 20px;

                                    Rectangle {
                                        width: 60px;
                                        VerticalLayout {
                                            alignment: center;
                                            Rectangle { width: 10px; height: 10px; border-radius: 5px; background: partner.ma-slozku ? #2CC985 : #ff4444; x: 0; }
                                        }
                                    }

                                    Text { text: partner.id; width: 80px; color: #aaa; vertical-alignment: center; horizontal-alignment: left; }

                                    Text { text: partner.nazev; width: 250px; color: white; font-weight: 600; vertical-alignment: center; horizontal-alignment: left; overflow: elide; }

                                    Rectangle {
                                        horizontal-stretch: 1;
                                        background: #252525;
                                        border-radius: 4px;
                                        border-width: 1px;
                                        border-color: folder-input.has-focus ? #2CC985 : #333;
                                        height: 32px;
                                        y: (50px - 32px) / 2;
                                        animate border-color { duration: 150ms; }

                                        HorizontalLayout {
                                            padding-left: 10px; padding-right: 10px;

                                            Rectangle {
                                                horizontal-stretch: 1;

                                                if (folder-input.text == "") : Text { text: "Zadejte n√°zev slo≈æky..."; color: #555; font-size: 13px; vertical-alignment: center; horizontal-alignment: left; }

                                                folder-input := TextInput {
                                                    text: partner.slozka;
                                                    font-size: 14px;
                                                    color: white;
                                                    vertical-alignment: center;
                                                    horizontal-alignment: left;
                                                    single-line: true;
                                                    accepted => { root.ulozit_nazev_slozky(partner.id, self.text); }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }

                    if (settings_tab == 2) : VerticalLayout {
                        spacing: 20px;
                        alignment: start;

                        VerticalBox {
                            spacing: 5px;
                            padding: 0;

                            Text { text: "CESTA K ARCHIVU ZAK√ÅZEK"; color: #888; font-size: 11px; font-weight: 700; }

                            HorizontalLayout {
                                spacing: 10px;
                                height: 40px;

                                LineEdit {
                                    text: cesta_archiv;
                                    height: 40px;
                                    font-size: 14px;
                                    edited(t) => { root.cesta_archiv = t; }
                                }

                                Button { text: "Zmƒõnit"; width: 100px; clicked => { root.vybrat_archiv(); } }
                            }
                        }

                        VerticalBox {
                            spacing: 5px;
                            padding: 0;

                            Text { text: "CESTA PRO IMPORT DO V√ùROBY"; color: #888; font-size: 11px; font-weight: 700; }

                            HorizontalLayout {
                                spacing: 10px;
                                height: 40px;

                                LineEdit {
                                    text: cesta_vyroba;
                                    height: 40px;
                                    font-size: 14px;
                                    edited(t) => { root.cesta_vyroba = t; }
                                }

                                Button { text: "Zmƒõnit"; width: 100px; clicked => { root.vybrat_vyrobu(); } }
                            }
                        }

                        VerticalBox {
                            spacing: 5px;
                            padding: 0;

                            Text { text: "INTERVAL KONTROLY AKTU√ÅLNOSTI DAT"; color: #888; font-size: 11px; font-weight: 700; }

                            ComboBox {
                                height: 40px;
                                model: ["1 t√Ωden", "14 dn√≠", "1 mƒõs√≠c", "6 mƒõs√≠c≈Ø", "teƒè..."];
                                current-value: root.sync_interval;
                                selected(val) => { root.sync_interval = val; root.ulozit_nastaveni(); }
                            }
                        }

                        Rectangle { vertical-stretch: 1; }

                        Button { text: "ULO≈ΩIT VE≈†KER√Å NASTAVEN√ç"; height: 50px; primary: true; clicked => { root.ulozit_nastaveni(); } }
                    }
                }
            }
        }
    }
}
